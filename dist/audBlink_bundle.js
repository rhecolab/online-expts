(()=>{"use strict";var t={12(t,e,n){t.exports=n.p+"8b5df323640d49c711ee.png"},56(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72(t){var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var r={},s=[],a=0;a<t.length;a++){var c=t[a],l=o.base?c[0]+o.base:c[0],d=r[l]||0,h="".concat(l," ").concat(d);r[l]=d+1;var u=n(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var f=i(p,o);o.byIndex=a,e.splice(a,0,{identifier:h,updater:f,references:1})}s.push(h)}return s}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=o(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<r.length;s++){var a=n(r[s]);e[a].references--}for(var c=o(t,i),l=0;l<r.length;l++){var d=n(r[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}r=c}}},98(t,e,n){t.exports=n.p+"a8b37a9f5555f1ae30f0.js"},113(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},168(t,e,n){n.d(e,{A:()=>a});var o=n(601),i=n.n(o),r=n(314),s=n.n(r)()(i());s.push([t.id,"body {\n    font-family: sans-serif;\n    display: flex;\n    justify-content: center;  \n    align-items: center;\n    min-height: 100vh;\n    background-color: #d1d1d1;\n    margin: 0;\n}\n\n#exptBox {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n#exptBox > div {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    text-align: center;\n    z-index: 10;        \n}\n\n#shapes {\n  pointer-events: none;   \n}\n\n.stimuli {\n    font-size: 50pt;\n}\n\n#fix {\n    font-size: 70pt;\n    text-align: center;\n}\n\na:link {\n    color: blue;\n    text-decoration: none;\n}\n\nbutton {\n  font-size: 15px;    \n  padding: 20px 20px;   \n  margin: 10px;     \n  border-radius: 12px; \n  border: 2px solid #444;\n  background-color: #f5f5f5;\n  cursor: pointer;\n  transition: background-color 0.2s ease, transform 0.1s ease;\n}\n\n.btn2 {\n    font-size: 15px;  \n    padding: 4px 4px;\n    margin: 2px;\n      border-radius: 0px; \n    color: rgb(255, 255, 255);\n      background-color: #437db0;\n    border: none;\n}\n\n.choice-btn {\n    width: 100px;\n    height: 100px;\n    padding: 10px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n        background: transparent;\n\n}\n\n.choice-img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n        background: transparent;\n\n}",""]);const a=s},314(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,o,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);o&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},506(t,e,n){t.exports=n.p+"401142bd7c1cd82835a6.png"},540(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601(t){t.exports=function(t){return t[1]}},659(t){var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},688(t,e,n){t.exports=n.p+"4d32c3a8dce1f76f95ab.png"},793(t,e,n){t.exports=n.p+"56c8ac51b97cdd1b6703.png"},825(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},831(t,e,n){t.exports=n.p+"2a8865b1dfdd6516fda2.png"},845(t,e,n){t.exports=n.p+"f06ca78c1ad482c8f90d.png"}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o](r,r.exports,n),r.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=o[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b="undefined"!=typeof document&&document.baseURI||self.location.href,n.nc=void 0;var o={};n.d(o,{default:()=>N});const i=new(window.AudioContext||window.webkitAudioContext),r={};async function s(t){for(const e of t){const t=`../../stimuli/snds/${e}.wav`,n=await fetch(t),o=await n.arrayBuffer();r[e]=await i.decodeAudioData(o)}console.log("sounds preloaded")}function a(t,e,n=!1){!0===n?$("#fix").text(""):$("#fix").text("+");const o=i.createBufferSource();o.buffer=r[t],o.connect(i.destination),o.start(e)}var c=new URL(n(98),n.b),l=new URL(n(831),n.b),d=new URL(n(688),n.b),h=new URL(n(506),n.b),u=new URL(n(12),n.b),p=new URL(n(845),n.b),f=new URL(n(793),n.b);const b=`<!DOCTYPE html> <html> <head> <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"><\/script> <script type="module" src="${c}" defer="defer"><\/script> </head> <body> <div id="exptBox" class="stimuli-grid"> <div id="instrBox"> You'll hear a rapid stream of environmental sounds. Pay attention to the glides and the animal sounds. <br><br>Click on the blue boxes to listen to the examples below! <br><br> <button class="btn2" onclick='playSound("glide_up",0,!0)'><img src="${l}" class="choice-img" height="75" width="75" alt="Up"><br>Glide - Up</button> <button class="btn2" onclick='playSound("glide_down",0,!0)'><img src="${d}" class="choice-img" height="75" width="75" alt="Down"><br>Glide - Down</button> <br><br> <button class="btn2" onclick='playSound("a1_sh",0,!0)'>Cat <br><img src="${h}" class="choice-img" height="75" width="75" alt="cat"></button> <button class="btn2" onclick='playSound("a2_sh",0,!0)'>Dog <br><img src="${u}" class="choice-img" height="75" width="75" alt="dog"></button> <button class="btn2" onclick='playSound("a8_sh",0,!0)'>Horse <br><img src="${p}" class="choice-img" height="75" width="75" alt="horse"></button> <button class="btn2" onclick='playSound("a9_sh",0,!0)'>Bird <br><img src="${f}" class="choice-img" height="75" width="75" alt="bird"></button> <br><br> After the trial, you will be asked if the glide was up or down and what animal sound you heard. <br> <br> Press the START button when you're ready to start. <br><br> <button id="startButton" class="button" onlick="runTask()"> START </button> </div> <br><br> <div id="fix"></div> <div id="q1" style="display:none"> Did the glide go up or down? <br> <button class="choice-btn" onclick='collectResp(2,"u")'> <img src="${l}" class="choice-img" height="75" width="75" alt="Up"> </button> <br><br> <button class="choice-btn" onclick='collectResp(2,"d")'> <img src="${d}" class="choice-img" height="75" width="75" alt="Down"> </button> </div> <div id="q2" style="display:none"> \` What animal sound did you hear? <br> <button class="choice-btn" onclick='collectResp(3,"cat")'> <img src="${h}" class="choice-img" height="75" width="75" alt="cat"> </button> <br><br> <button class="choice-btn" onclick='collectResp(3,"dog")'> <img src="${u}" class="choice-img" height="75" width="75" alt="dog"> </button> <br><br> <button class="choice-btn" onclick='collectResp(3,"horse")'> <img src="${p}" class="choice-img" height="75" width="75" alt="horse"> </button> <br><br> <button class="choice-btn" onclick='collectResp(3,"bird")'> <img src="${f}" class="choice-img" height="75" width="75" alt="bird"> </button> </div> </div> </body> </html>`;var g=n(72),m=n.n(g),y=n(825),v=n.n(y),w=n(659),x=n.n(w),_=n(56),k=n.n(_),T=n(540),S=n.n(T),j=n(113),R=n.n(j),M=n(168),B={};B.styleTagTransform=R(),B.setAttributes=k(),B.insert=x().bind(null,"head"),B.domAPI=v(),B.insertStyleElement=S(),m()(M.A,B),M.A&&M.A.locals&&M.A.locals,window.playSound=a,window.preloadSounds=s;let A=0,C=[],E=null,I=0,U=0,q=[],D={},L="";const N={startTask:async function(t){L=t;const e=document.createElement("div");e.innerHTML=b,document.querySelector("#Questions").appendChild(e);const n=function(t,e,n){let o=[];for(let i=0;i<n.length;i++)for(let r=0;r<t.length;r++)for(let s=0;s<e.length;s++)for(let a=0;a<2;a++)o.push({t1:t[r],t2:e[s],lag:n[i]});for(let t=o.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[o[t],o[e]]=[o[e],o[t]]}return o}(["glide_up","glide_down"],["a1_sh","a2_sh","a8_sh","a9_sh"],[0,3,9]);q=function(t){let e=[],n=[];e=["h1_sh","h2_sh","h3_sh","h4_sh","h5_sh","h6_sh","h7_sh","h8_sh","h9_sh","h10_sh","i1_sh","i2_sh","i3_sh","i4_sh","i5_sh","i6_sh","i7_sh","i8_sh","i9_sh","i10_sh"];for(let o=0;o<t.length;o++){let i=[];const{t1:r,t2:s,lag:a}=t[o],c=Math.floor(5*Math.random())+1;for(let t=0;t<c;t++){const t=e[Math.floor(Math.random()*e.length)];i.push({stim:t,type:"d"})}i.push({stim:r,type:"t1"});for(let t=0;t<a;t++){const t=e[Math.floor(Math.random()*e.length)];i.push({stim:t,type:"d"})}i.push({stim:s,type:"t2"});for(let t=0;t<3;t++){const t=e[Math.floor(Math.random()*e.length)];i.push({stim:t,type:"d"})}n.push({trialNum:o,t1:r,t2:s,lag:a,stimOrder:i})}return n}(n),window.trials=n,U=window.trials.length,D=await s(["glide_up","glide_down","a1_sh","a2_sh","a8_sh","a9_sh","h1_sh","h2_sh","h3_sh","h4_sh","h5_sh","h6_sh","h7_sh","h8_sh","h9_sh","h10_sh","i1_sh","i2_sh","i3_sh","i4_sh","i5_sh","i6_sh","i7_sh","i8_sh","i9_sh","i10_sh"]),document.getElementById("startButton").addEventListener("click",()=>{document.getElementById("instrBox").style.display="none",document.getElementById("startButton").style.display="none",O(q[A])})}};function O(t){E=t,I=NaN;const e=t.stimOrder;let n=i.currentTime;for(let t=0;t<e.length;t++)a(e[t].stim,n),P(n),z(n+.3),n+=.6;const o=600*e.length;setTimeout(()=>collectResp(1,t),o)}function P(t){const e=1e3*(t-i.currentTime);setTimeout(()=>{$("#fix").text("+")},e)}function z(t){const e=1e3*(t-i.currentTime);setTimeout(()=>{$("#fix").text("")},e)}window.collectResp=function(t,e=null){const n=trials[A];console.log("t1",n.t1),console.log("t2",n.t2),console.log("lag",n.lag),1===t&&(new Date,I={t1_item:n.t1,t2_item:n.t2,lag:n.lag,resp1:"",resp2:""}),2===t&&null!==e&&(I.resp1=e),3===t&&null!==e&&(I.resp2=e),1===t&&($("#q1").show(),$("#q2").hide()),2===t&&($("#q1").hide(),$("#q2").show()),3===t&&(C.push(I),I=null,$("#q1, #q2").hide(),A++,A<U?O(q[A]):function(t){document.getElementById("exptBox").innerText="Task complete!",console.log("Subject ID:",t),console.log("Data:",C),function(t,e,n){const o=(new Date).toISOString().split("T")[0].replace(/-/g,""),i=`${t}_${e}_${o}`,r=Object.keys(n[0]);let s="sub,"+r.join(",")+",taskName\n";n.forEach(n=>{const o=r.map(t=>n[t]??"");s+=`${t},${o.join(",")},${e}\n`}),fetch("/save-results",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:i,csv:s})}).then(t=>t.text()).then(t=>console.log("saved",t)).catch(t=>console.error("error:",t))}(t,"audBlink",C)}(L))},window.ablink=o.default})();
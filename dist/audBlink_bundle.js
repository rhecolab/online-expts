(()=>{"use strict";var t={12(t,n,e){t.exports=e.p+"8b5df323640d49c711ee.png"},56(t,n,e){t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},72(t){var n=[];function e(t){for(var e=-1,o=0;o<n.length;o++)if(n[o].identifier===t){e=o;break}return e}function o(t,o){for(var r={},s=[],a=0;a<t.length;a++){var c=t[a],l=o.base?c[0]+o.base:c[0],d=r[l]||0,h="".concat(l," ").concat(d);r[l]=d+1;var u=e(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)n[u].references++,n[u].updater(p);else{var f=i(p,o);o.byIndex=a,n.splice(a,0,{identifier:h,updater:f,references:1})}s.push(h)}return s}function i(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,i){var r=o(t=t||[],i=i||{});return function(t){t=t||[];for(var s=0;s<r.length;s++){var a=e(r[s]);n[a].references--}for(var c=o(t,i),l=0;l<r.length;l++){var d=e(r[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}r=c}}},98(t,n,e){t.exports=e.p+"a8b37a9f5555f1ae30f0.js"},113(t){t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},168(t,n,e){e.d(n,{A:()=>a});var o=e(601),i=e.n(o),r=e(314),s=e.n(r)()(i());s.push([t.id,"body {\n    font-family: sans-serif;\n    display: flex;\n    justify-content: center;  \n    align-items: center;\n    min-height: 100vh;\n    background-color: #d1d1d1;\n    margin: 0;\n}\n\n#exptBox {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n#exptBox > div {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    text-align: center;\n    z-index: 10;        \n}\n\n#shapes {\n  pointer-events: none;   \n}\n\n.stimuli {\n    font-size: 50pt;\n}\n\n#fix {\n    font-size: 70pt;\n    text-align: center;\n}\n\na:link {\n    color: blue;\n    text-decoration: none;\n}\n\nbutton {\n  font-size: 15px;    \n  padding: 20px 20px;   \n  margin: 10px;     \n  border-radius: 12px; \n  border: 2px solid #444;\n  background-color: #f5f5f5;\n  cursor: pointer;\n  transition: background-color 0.2s ease, transform 0.1s ease;\n}\n\n.btn2 {\n    font-size: 15px;  \n    padding: 4px 4px;\n    margin: 2px;\n      border-radius: 0px; \n    color: rgb(255, 255, 255);\n      background-color: #437db0;\n    border: none;\n}\n\n.choice-btn {\n    width: 100px;\n    height: 100px;\n    padding: 10px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n        background: transparent;\n\n}\n\n.choice-img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n        background: transparent;\n\n}",""]);const a=s},314(t){t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e="",o=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),o&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),o&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e}).join("")},n.i=function(t,e,o,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);o&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),n.push(d))}},n}},506(t,n,e){t.exports=e.p+"401142bd7c1cd82835a6.png"},540(t){t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},601(t){t.exports=function(t){return t[1]}},659(t){var n={};t.exports=function(t,e){var o=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}},688(t,n,e){t.exports=e.p+"4d32c3a8dce1f76f95ab.png"},793(t,n,e){t.exports=e.p+"56c8ac51b97cdd1b6703.png"},825(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var o="";e.supports&&(o+="@supports (".concat(e.supports,") {")),e.media&&(o+="@media ".concat(e.media," {"));var i=void 0!==e.layer;i&&(o+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),o+=e.css,i&&(o+="}"),e.media&&(o+="}"),e.supports&&(o+="}");var r=e.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),n.styleTagTransform(o,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},831(t,n,e){t.exports=e.p+"2a8865b1dfdd6516fda2.png"},845(t,n,e){t.exports=e.p+"f06ca78c1ad482c8f90d.png"}},n={};function e(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={id:o,exports:{}};return t[o](r,r.exports,e),r.exports}e.m=t,e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");if(o.length)for(var i=o.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=o[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b="undefined"!=typeof document&&document.baseURI||self.location.href,e.nc=void 0;var o={};e.d(o,{default:()=>N});const i=new(window.AudioContext||window.webkitAudioContext),r={};async function s(t){const n=window.location.hostname.includes("qualtrics")?GITHUB_BASE:"../../";for(const e of t){const t=`${n}stimuli/snds/${e}.wav`,o=await fetch(t),s=await o.arrayBuffer();r[e]=await i.decodeAudioData(s)}console.log("sounds preloaded")}function a(t,n,e=!1){!0===e?$("#fix").text(""):$("#fix").text("+");const o=i.createBufferSource();o.buffer=r[t],o.connect(i.destination),o.start(n)}var c=new URL(e(98),e.b),l=new URL(e(831),e.b),d=new URL(e(688),e.b),h=new URL(e(506),e.b),u=new URL(e(12),e.b),p=new URL(e(845),e.b),f=new URL(e(793),e.b);const b=`<!DOCTYPE html> <html> <head> <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"><\/script> <script type="module" src="${c}" defer="defer"><\/script> </head> <body> <div id="exptBox" class="stimuli-grid"> <div id="instrBox"> You'll hear a rapid stream of environmental sounds. Pay attention to the glides and the animal sounds. <br><br>Click on the blue boxes to listen to the examples below! <br><br> <button class="btn2" onclick='playSound("glide_up",0,!0)'><img src="${l}" class="choice-img" height="75" width="75" alt="Up"><br>Glide - Up</button> <button class="btn2" onclick='playSound("glide_down",0,!0)'><img src="${d}" class="choice-img" height="75" width="75" alt="Down"><br>Glide - Down</button> <br><br> <button class="btn2" onclick='playSound("a1_sh",0,!0)'>Cat <br><img src="${h}" class="choice-img" height="75" width="75" alt="cat"></button> <button class="btn2" onclick='playSound("a2_sh",0,!0)'>Dog <br><img src="${u}" class="choice-img" height="75" width="75" alt="dog"></button> <button class="btn2" onclick='playSound("a8_sh",0,!0)'>Horse <br><img src="${p}" class="choice-img" height="75" width="75" alt="horse"></button> <button class="btn2" onclick='playSound("a9_sh",0,!0)'>Bird <br><img src="${f}" class="choice-img" height="75" width="75" alt="bird"></button> <br><br> After the trial, you will be asked if the glide was up or down and what animal sound you heard. <br> <br> Press the START button when you're ready to start. <br><br> <button id="startButton" class="button" onlick="runTask()"> START </button> </div> <br><br> <div id="fix"></div> <div id="q1" style="display:none"> Did the glide go up or down? <br> <button class="choice-btn" onclick='collectResp(2,"u")'> <img src="${l}" class="choice-img" height="75" width="75" alt="Up"> </button> <br><br> <button class="choice-btn" onclick='collectResp(2,"d")'> <img src="${d}" class="choice-img" height="75" width="75" alt="Down"> </button> </div> <div id="q2" style="display:none"> \` What animal sound did you hear? <br> <button class="choice-btn" onclick='collectResp(3,"cat")'> <img src="${h}" class="choice-img" height="75" width="75" alt="cat"> </button> <br><br> <button class="choice-btn" onclick='collectResp(3,"dog")'> <img src="${u}" class="choice-img" height="75" width="75" alt="dog"> </button> <br><br> <button class="choice-btn" onclick='collectResp(3,"horse")'> <img src="${p}" class="choice-img" height="75" width="75" alt="horse"> </button> <br><br> <button class="choice-btn" onclick='collectResp(3,"bird")'> <img src="${f}" class="choice-img" height="75" width="75" alt="bird"> </button> </div> </div> </body> </html>`;var g=e(72),m=e.n(g),y=e(825),w=e.n(y),v=e(659),x=e.n(v),_=e(56),T=e.n(_),k=e(540),S=e.n(k),j=e(113),R=e.n(j),B=e(168),M={};M.styleTagTransform=R(),M.setAttributes=T(),M.insert=x().bind(null,"head"),M.domAPI=w(),M.insertStyleElement=S(),m()(B.A,M),B.A&&B.A.locals&&B.A.locals,window.playSound=a,window.preloadSounds=s;let A=0,C=[],E=null,I=0,U=0,q=[],D={},L="";const N={startTask:async function(t){L=t;const n=document.createElement("div");n.innerHTML=b,document.querySelector("#Questions").appendChild(n);const e=function(t,n,e){let o=[];for(let i=0;i<e.length;i++)for(let r=0;r<t.length;r++)for(let s=0;s<n.length;s++)for(let a=0;a<2;a++)o.push({t1:t[r],t2:n[s],lag:e[i]});for(let t=o.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[o[t],o[n]]=[o[n],o[t]]}return o}(["glide_up","glide_down"],["a1_sh","a2_sh","a8_sh","a9_sh"],[0,3,9]);q=function(t){let n=[],e=[];n=["h1_sh","h2_sh","h3_sh","h4_sh","h5_sh","h6_sh","h7_sh","h8_sh","h9_sh","h10_sh","i1_sh","i2_sh","i3_sh","i4_sh","i5_sh","i6_sh","i7_sh","i8_sh","i9_sh","i10_sh"];for(let o=0;o<t.length;o++){let i=[];const{t1:r,t2:s,lag:a}=t[o],c=Math.floor(5*Math.random())+1;for(let t=0;t<c;t++){const t=n[Math.floor(Math.random()*n.length)];i.push({stim:t,type:"d"})}i.push({stim:r,type:"t1"});for(let t=0;t<a;t++){const t=n[Math.floor(Math.random()*n.length)];i.push({stim:t,type:"d"})}i.push({stim:s,type:"t2"});for(let t=0;t<3;t++){const t=n[Math.floor(Math.random()*n.length)];i.push({stim:t,type:"d"})}e.push({trialNum:o,t1:r,t2:s,lag:a,stimOrder:i})}return e}(e),window.trials=e,U=window.trials.length,D=await s(["glide_up","glide_down","a1_sh","a2_sh","a8_sh","a9_sh","h1_sh","h2_sh","h3_sh","h4_sh","h5_sh","h6_sh","h7_sh","h8_sh","h9_sh","h10_sh","i1_sh","i2_sh","i3_sh","i4_sh","i5_sh","i6_sh","i7_sh","i8_sh","i9_sh","i10_sh"]),document.getElementById("startButton").addEventListener("click",()=>{document.getElementById("instrBox").style.display="none",document.getElementById("startButton").style.display="none",O(q[A])})}};function O(t){E=t,I=NaN;const n=t.stimOrder;let e=i.currentTime;for(let t=0;t<n.length;t++)a(n[t].stim,e),P(e),z(e+.3),e+=.6;const o=600*n.length;setTimeout(()=>collectResp(1,t),o)}function P(t){const n=1e3*(t-i.currentTime);setTimeout(()=>{$("#fix").text("+")},n)}function z(t){const n=1e3*(t-i.currentTime);setTimeout(()=>{$("#fix").text("")},n)}window.collectResp=function(t,n=null){const e=trials[A];console.log("t1",e.t1),console.log("t2",e.t2),console.log("lag",e.lag),1===t&&(new Date,I={t1_item:e.t1,t2_item:e.t2,lag:e.lag,resp1:"",resp2:""}),2===t&&null!==n&&(I.resp1=n),3===t&&null!==n&&(I.resp2=n),1===t&&($("#q1").show(),$("#q2").hide()),2===t&&($("#q1").hide(),$("#q2").show()),3===t&&(C.push(I),I=null,$("#q1, #q2").hide(),A++,A<U?O(q[A]):function(t){document.getElementById("exptBox").innerText="Task complete!",console.log("Subject ID:",t),console.log("Data:",C),function(t,n,e){const o=(new Date).toISOString().split("T")[0].replace(/-/g,""),i=`${t}_${n}_${o}`,r=Object.keys(e[0]);let s="sub,"+r.join(",")+",taskName\n";e.forEach(e=>{const o=r.map(t=>e[t]??"");s+=`${t},${o.join(",")},${n}\n`}),fetch("/save-results",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:i,csv:s})}).then(t=>t.text()).then(t=>console.log("saved",t)).catch(t=>console.error("error:",t))}(t,"audBlink",C)}(L))},window.ablink=o.default})();